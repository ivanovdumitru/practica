{"version":3,"sources":["Table.js","TableForm.js"],"names":["Table","indexOf","item","i","l","this","length","data","prop","ref","value","request","existMore","order","filter","actionsDiv","$","menuDiv","table","head","body","foot","onOrder","onFilter","onGetData","onRowSelect","onCloseRowContainer","current","swig","setFilter","input","templates","actions","compile","menu","columns","rows","constructor","tableBinds","VERSION","start","loadMoreLength","fromBottomNextPage","attrs","footer","url","datePickerOptions","dateFormat","constrainInput","timePickerOptions","timeFormat","showDefaultOrder","editedNotification","contextMenu","selectable","selectFirst","defaultAction","scrollAlign","arrowNavigation","height","heightOfParent","MSSQLPagination","filterTimeOut","autoRefresh","margin","prototype","getData","ordering","MSSQLData","lastRow","addClass","getJSON","response","removeClass","renderRows","always","nextPage","resetTable","abort","html","updateActions","columnsBinds","orderBind","filterBind","fn","datepicker","extend","showOn","find","attr","on","e","c","change","changeValue","date","j","k","len","now","ref1","restOfYear","val","keyCode","type","Date","d","m","y","replace","match","setDate","getDate","parseInt","getFullYear","toString","trigger","slice","toLowerCase","setMonth","getMonth","setFullYear","each","allEvents","typeEvents","_data","unshift","pop","dateInput","datePickerToFormat","ctrlKey","toISOString","doFilter","timepicker","showSecond","timeInput","timePickerToFormat","select","charCode","hasClass","which","String","fromCharCode","parent","element","doNow","name","oldFilter","timeoutBind","clearTimeout","setTimeout","oldOrder","orderBy","orderByIndex","action","bindActions","rowSelect","index","prevAll","id","document","getSelection","removeAllRanges","callback","bodyHeight","bodyPos","fromBottom","lastHeight","lastPos","positionLimit","top","position","bottom","toolTip","css","outerHeight","off","E","H","RM","ST","newRow","row","tables","target","is","closest","first","not","nextAll","scrollTop","offset","event","left","menuAction","global","call","append","clientY","clientX","width","remove","unbind","rowIndex","addRowContainer","content","pinned","container","rowContainer","cols","next","insertAfter","prepend","scrollRowContainer","topPosition","rowResize","closeRowContainer","force","cb","continueCallback","rowContainers","eq","rowActive","prev","confirm","lockAction","lock","disable","actionButton","rowElement","actionContentDisabled","actionDisabled","ref2","renderActions","makeActions","push","appendRows","Array","isArray","cells","apply","columnRule","style","cssRule","exist","len1","rule","rulePos","selector","sheet","sheets","styleSheets","ownerNode","cssRules","rules","selectorText","deleteRule","removeRule","addRule","insertRule","columnsResize","check","colIndex","column","fixedCols","len2","len3","len4","minWidth","n","o","p","ref3","tableWidth","colspan","display","hide","show","rowspan","parseFloat","paddingRight","isNaN","getNiceScroll","fullHeight","maxHeight","get","scrollHeight","resize","niceScroll","horizrailenabled","cursoropacitymin","railalign","enablekeyboard","cursorwidth","railpadding","right","renderColumns","field","substr","sort","renderFooter","footerRows","uid","Math","floor","random","substring","render","JSON","parse","stringify","window","TableForm","edit","form","formData","fields","template","prefix","contentType","actionNotification","loadLength","after","onSubmit","onComplete","onCancel","onActionNotification","onDelete","sendCSRFTokenHeader","getCsrfToken","ca","nameEQ","cookie","split","charAt","bindForm","tableForm","setSelectionRange","undefined","focus","click","select2","initSelection","related","text","query","queryObj","postData","more","results","term","page","list","format","child","relatedData","state","children","reference","added","sendData","fieldData","time","loadData","formatDate","join","formatTime","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","_prefix","delData","ajax","method","dataType","headers","X-CSRFToken","complete","status","alert","console","error","fieldValue","fieldDate","setMinutes","getTimezoneOffset","cbReturn","fieldContainer","responseJSON"],"mappings":"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","file":"TableTableForm.min.js","sourcesContent":["var Table,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nTable = (function() {\n  Table.VERSION = '1.2.0';\n\n  Table[\"default\"] = {\n    start: 0,\n    length: 100,\n    loadMoreLength: 50,\n    fromBottomNextPage: 50,\n    attrs: {},\n    actions: [],\n    columns: [],\n    footer: [],\n    rows: [],\n    url: '',\n    datePickerOptions: {\n      dateFormat: 'dd/mm/yy',\n      constrainInput: true\n    },\n    timePickerOptions: {\n      timeFormat: 'HH:mm'\n    },\n    showDefaultOrder: false,\n    editedNotification: true,\n    contextMenu: true,\n    selectable: true,\n    selectFirst: false,\n    defaultAction: null,\n    scrollAlign: 'right',\n    arrowNavigation: false,\n    height: null,\n    heightOfParent: null,\n    MSSQLPagination: false,\n    filterTimeOut: 300,\n    autoRefresh: true,\n    margin: null\n  };\n\n  function Table(data) {\n    var i, prop, ref, value;\n    this.request = null;\n    this.existMore = true;\n    this.order = '';\n    this.filter = {};\n    this.actionsDiv = $('<div />');\n    this.menuDiv = $('<ul />');\n    this.table = $('<div class=\"table\" />');\n    this.head = $('<div class=\"head\" />');\n    this.body = $('<div class=\"body\" />');\n    this.foot = $('<div class=\"foot\" />');\n    this.onOrder = null;\n    this.onFilter = null;\n    this.onGetData = null;\n    this.onRowSelect = null;\n    this.onCloseRowContainer = null;\n    this.current = null;\n    swig.setFilter('hasValue', function(input) {\n      return typeof input.value !== 'undefined';\n    });\n    this.templates = {\n      actions: swig.compile('{% for action in actions %}{% if not action.element %}<button type=\"button\" class=\"btn {{action.class}}\" data-action=\"{{action.id}}\">{{action.label}}</button>{% endif%}{% endfor %}'),\n      menu: swig.compile('{% for action in actions %}<li data-action=\"{{action.id}}\">{{action.label}}</li>{% endfor %}'),\n      columns: swig.compile('<table><thead><tr>{% for i in Array.prototype.constructor.call(null, rows.columns) %}<th class=\"col-{{loop.index0}}\"></th>{% endfor %}</tr></thead><tbody>{% for row in rows %}<tr>{% for column in row %}<td{% if column.attrs and column.attrs.class %} class=\"{{column.attrs.class}}\"{% endif %}{% for attr, value in column.attrs %}{% if attr != \"width\" and attr != \"class\" %} {{attr}}=\"{{value}}\"{% endif %}{% endfor %}>{% if column.label %}<label{% if column.name and column.order %} data-order=\"{{column.name}}\" class=\"order{% if order and order.field == column.name %} {{order.sort}}{% endif %}\"{% endif %}{% if column.label.key %} data-i18n=\"{{column.label.key}}\">{{column.label.text}}{% else %}>{{column.label}}{% endif %}</label>{% endif %} {% if column.filter == \"select\" %}<select name=\"{{column.name}}\">{% for option in column.filterData %}<option value=\"{{option.value}}\"{% if column.filterValue and column.filterValue == option.value %} selected=\"selected\"{% endif %}{% if option.label.key %} data-i18n=\"{{option.label.key}}\">{{option.label.text}}{% else %}>{{option.label}}{% endif %}</option>{% endfor %}</select>{% elif column.filter == \"date\" or column.filter == \"datetime\" or column.filter == \"time\" %}{% if column.filter != \"time\" %}<div class=\"date-picker\"><input autocomplete=\"off\" type=\"text\" name=\"{{column.name}}{% if column.filter == \"datetime\" %}[date]{% endif %}\" value=\"{{column.filterValue}}\"/></div>{% endif %}{% if column.filter != \"date\" %}<div class=\"time-picker\"><input autocomplete=\"off\" type=\"text\" name=\"{{column.name}}{% if column.filter == \"datetime\" %}[time]{% endif %}\" value=\"{{column.filterValue}}\"/></div>{% endif %}{% elif column.filter == \"text\" %}<input autocomplete=\"off\" type=\"text\" name=\"{{column.name}}\" value=\"{{column.filterValue}}\"/>{% elif column.filter == \"number\" or column.filter == \"comparison\" %}<input autocomplete=\"off\" type=\"text\" name=\"{{column.name}}\" class=\"number{% if column.filter == \"comparison\" %} comparison{% if column.extendedFilter %} extended{% endif %}{% endif %}\" value=\"{{column.filterValue}}\"/>{% elif column.filter %}<input autocomplete=\"off\" type=\"{{column.filter}}\" name=\"{{column.name}}\" value=\"{{column.filterValue}}\"/>{% endif %}</td>{% endfor %}</tr>{% endfor %}</tbody></table>'),\n      rows: swig.compile('{% if rows.head %}<table><thead><tr>{% for i in Array.prototype.constructor.call(null, rows.columns) %}<th class=\"col-{{loop.index0}}\"></th>{% endfor %}</tr></thead><tbody>{% endif %}{% for row in rows %}<tr{% if row.attrs %}{% for attr, value in row.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% endif %}>{% for cell in row.cells %}<td{% if cell.attrs %}{% for attr, value in cell.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% endif %}{% if cell|hasValue %}{% if not cell.safe %} title=\"{{cell.value}}\"{% endif %}>{% if cell.safe %}{{cell.value|safe}}{% else %}{{cell.value}}{% endif %}{% else %} title=\"{{cell}}\">{{cell}}{% endif %}</td>{% endfor %}</tr>{% endfor %}{% if rows.head %}</tbody></table>{% endif %}'),\n      foot: swig.compile('<table><thead><tr>{% for i in Array.prototype.constructor.call(null, rows.columns) %}<th class=\"col-{{loop.index0}}\"></th>{% endfor %}</tr></thead><tbody>{% for row in rows %}<tr{% if row.attrs %}{% for attr, value in row.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% endif %}>{% for cell in row.cells %}<td{% if cell.attrs %}{% for attr, value in cell.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% endif %}{% if cell|hasValue %}{% if not cell.safe %} title=\"{{cell.value}}\"{% endif %}>{% if cell.safe %}{{cell.value|safe}}{% else %}{{cell.value}}{% endif %}{% else %} title=\"{{cell}}\">{{cell}}{% endif %}</td>{% endfor %}</tr>{% endfor %}</tbody><tfoot><tr><th colspan=\"{{rows.columns}}\"><div class=\"spinner\"><div></div><div></div><div></div><div></div></div></th></tr></tfoot></table>')\n    };\n    ref = this.constructor[\"default\"];\n    for (prop in ref) {\n      value = ref[prop];\n      this[prop] = value;\n    }\n    for (i in data) {\n      if (i in this) {\n        this[i] = data[i];\n      }\n    }\n    this.tableBinds();\n  }\n\n  Table.prototype.getData = function() {\n    var data, filter, ref, table, value;\n    table = this;\n    data = {\n      start: this.start,\n      length: table.start ? table.loadMoreLength : table.length\n    };\n    if (this.order) {\n      data.ordering = this.order;\n    }\n    if (this.filter) {\n      ref = this.filter;\n      for (filter in ref) {\n        value = ref[filter];\n        data[filter] = value;\n      }\n    }\n    if (table.start && (this.MSSQLData != null)) {\n      data.lastRow = this.MSSQLData;\n    }\n    if (this.existMore) {\n      this.table.addClass('loading');\n      this.request = $.getJSON(this.url, data, function(response) {\n        table.table.removeClass('loading');\n        table.request = null;\n        if (table.MSSQLPagination) {\n          table.MSSQLData = response[response.length - 1];\n        }\n        if (table.onGetData != null) {\n          response = table.onGetData(response, table);\n        }\n        table.renderRows(response, !!table.start);\n        if (!response.length || response.length < (table.start ? table.loadMoreLength : table.length)) {\n          return table.existMore = false;\n        } else {\n          return table.start += response.length;\n        }\n      }).always(function() {\n        table.table.removeClass('loading');\n        table.request = null;\n      });\n    }\n  };\n\n  Table.prototype.nextPage = function() {\n    if (this.request == null) {\n      this.getData();\n    }\n  };\n\n  Table.prototype.resetTable = function() {\n    if (this.request != null) {\n      this.request.abort();\n    }\n    this.request = null;\n    this.start = 0;\n    this.existMore = true;\n    this.body.html('');\n    this.getData();\n    this.updateActions();\n  };\n\n  Table.prototype.columnsBinds = function() {\n    this.orderBind();\n    this.filterBind();\n  };\n\n  Table.prototype.filterBind = function() {\n    var datePickerOptions, filter, table, timePickerOptions;\n    table = this;\n    filter = null;\n    if ($.fn.datepicker != null) {\n      datePickerOptions = $.extend({}, this.datePickerOptions);\n      datePickerOptions.showOn = 'button';\n      if ((datePickerOptions.constrainInput != null) && datePickerOptions.constrainInput) {\n        datePickerOptions.constrainInput = false;\n      }\n      this.head.find('.date-picker input').datepicker(datePickerOptions);\n      this.head.find('.date-picker .ui-datepicker-trigger').attr('tabIndex', -1);\n      if ((this.datePickerOptions.constrainInput != null) && this.datePickerOptions.constrainInput) {\n        this.head.find('.date-picker input').on('keydown.table blur', function(e) {\n          var c, change, changeValue, date, dateFormat, i, j, k, len, now, ref, ref1, restOfYear, val;\n          if (((ref = e.keyCode) === 13 || ref === 9) || e.type === 'blur') {\n            now = new Date();\n            date = {\n              d: '',\n              m: '',\n              y: ''\n            };\n            dateFormat = datePickerOptions.dateFormat.replace(/[^\\w]/g, '').replace(/y/g, 'yy');\n            val = $(this).val();\n            if (val.match(/^(\\+|-)\\d+$/g)) {\n              now.setDate(now.getDate() + parseInt(val));\n            } else if (val.match(/^\\d+$/)) {\n              for (i = j = 0, len = dateFormat.length; j < len; i = ++j) {\n                c = dateFormat[i];\n                if (i < val.length) {\n                  date[c] += val[i];\n                }\n              }\n              if (date.y.length !== 4) {\n                restOfYear = '';\n                for (i = k = 0, ref1 = 4 - date.y.length; 0 <= ref1 ? k < ref1 : k > ref1; i = 0 <= ref1 ? ++k : --k) {\n                  restOfYear += now.getFullYear().toString()[i];\n                }\n                date.y = restOfYear + date.y;\n              }\n            } else if (val.match(/^((\\+|-)(\\d+)(d|m|y)){1,3}$/ig)) {\n              while (val.match(/((\\+|-)(\\d+)(d|m|y))/i)) {\n                change = val.match(/((\\+|-)(\\d+)(d|m|y))/i)[0];\n                val = val.replace(change, '');\n                changeValue = parseInt(change.slice(0, -1));\n                if (change.toLowerCase().slice(-1) === 'd') {\n                  now.setDate(now.getDate() + changeValue);\n                }\n                if (change.toLowerCase().slice(-1) === 'm') {\n                  now.setMonth(now.getMonth() + changeValue);\n                }\n                if (change.toLowerCase().slice(-1) === 'y') {\n                  now.setFullYear(now.getFullYear() + changeValue);\n                }\n              }\n            } else {\n              $(this).trigger('change');\n              return;\n            }\n            if (date.d) {\n              now.setDate(parseInt(date.d));\n            }\n            if (date.m) {\n              now.setMonth(parseInt(date.m) - 1);\n            }\n            if (date.y) {\n              now.setFullYear(parseInt(date.y));\n            }\n            $(this).datepicker('setDate', now);\n            $(this).trigger('change');\n          }\n        });\n        this.head.find('.date-picker input').each(function() {\n          var allEvents, typeEvents;\n          allEvents = $(this).data('events') || $._data($(this)[0], 'events');\n          typeEvents = allEvents['keydown'];\n          typeEvents.unshift(typeEvents.pop());\n        });\n      }\n      this.head.find('.date-picker input').on('change keyup.table', function(e) {\n        var dateInput;\n        dateInput = $(this).val();\n        if (e.type === 'keyup' && !((e.keyCode != null) && e.keyCode === 13 || !dateInput.length || dateInput.length === table.datePickerOptions.dateFormat.replace(/y/g, 'yy').length)) {\n          return;\n        }\n\n        /*\n        \t\t\t\tif dateInput.length == 0 && $(@).datepicker.is(':focus')\n        \t\t\t\t\t$(@).datepicker('hide')\n         */\n        if (table.datePickerOptions.datePickerToFormat != null) {\n          filter = table.datePickerOptions.datePickerToFormat(dateInput);\n          if (filter === 'Invalid Date' || (filter == null)) {\n            filter = null;\n          } else {\n            if (e.type === 'keyup' && !(e.ctrlKey || e.keyCode === 17)) {\n              $(this).datepicker('setDate', filter);\n            }\n            filter = filter.toISOString();\n          }\n        } else {\n          filter = dateInput;\n        }\n        table.doFilter(this, filter);\n      });\n    }\n    if ($.fn.timepicker != null) {\n      timePickerOptions = $.extend({}, this.timePickerOptions);\n      timePickerOptions.showOn = 'button';\n      this.head.find('.time-picker input').timepicker(timePickerOptions);\n      this.head.find('.time-picker .ui-datepicker-trigger').attr('tabIndex', -1);\n      if ((timePickerOptions.showSecond != null) && timePickerOptions.showSecond) {\n        this.head.find('.time-picker').addClass('seconds');\n      }\n      this.head.find('.time-picker input').on('change keyup.table', function(e) {\n        var timeInput;\n        timeInput = $(this).val();\n        if (e.type === 'keyup' && !((e.keyCode != null) && e.keyCode === 13 || !timeInput.length || timeInput.length === table.timePickerOptions.timeFormat.length)) {\n          return;\n        }\n        if (table.timePickerOptions.timePickerToFormat != null) {\n          filter = table.datePickerOptions.datePickerToFormat(timeInput);\n        } else {\n          filter = timeInput;\n        }\n        table.doFilter(this, filter, false);\n      });\n    }\n    this.head.find('input').on('focus.table', function() {\n      $(this).select();\n    });\n    this.head.find('input').on('keypress.table', function(e) {\n      var keyCode, ref, value;\n      if (!e.charCode) {\n        return;\n      }\n      if ($(this).hasClass('number')) {\n        keyCode = e.which || e.keyCode;\n        if (keyCode < 48 || keyCode > 57) {\n          value = $(this).val();\n          if ($(this).hasClass('comparison') && (!value.match(/\\./) && keyCode === 46 || (!value.match(/[=><]/) || $(this).hasClass('extended') && (value.match(/([=><]+)/g) && ((ref = value.match(/([=><]+)/g)[0] + String.fromCharCode(keyCode)) === '<=' || ref === '<>' || ref === '>='))) && (keyCode === 62 || keyCode === 61 || keyCode === 60))) {\n            return;\n          }\n          return false;\n        }\n      }\n    });\n    this.head.find('input').on('keyup.table', function() {\n      if (!$(this).parent().hasClass('date-picker') && !$(this).parent().hasClass('time-picker')) {\n        filter = $(this).val();\n        table.doFilter(this, filter, false);\n      }\n    });\n    this.head.find('select').on('change', function() {\n      table.doFilter(this, $(this).val());\n    });\n    this.head.find('input:checkbox').on('change', function() {\n      table.doFilter(this, $(this).prop(\"checked\"));\n    });\n  };\n\n  Table.prototype.doFilter = function(element, filter, doNow) {\n    var name, oldFilter, table;\n    if (doNow == null) {\n      doNow = true;\n    }\n    oldFilter = $.extend(true, {}, this.filter);\n    name = $(element).attr('name');\n    table = this;\n    if (this.timeoutBind == null) {\n      this.timeoutBind = null;\n    }\n    if (this.onFilter != null) {\n      this.onFilter(element, filter);\n    } else {\n      if ((filter != null) && !filter) {\n        filter = null;\n      }\n      if (filter != null) {\n        this.filter[name] = filter;\n      } else {\n        delete this.filter[name];\n      }\n      if (oldFilter[name] !== this.filter[name] && this.autoRefresh) {\n        clearTimeout(this.timeoutBind);\n        if (doNow) {\n          table.resetTable();\n        } else {\n          this.timeoutBind = setTimeout(function() {\n            table.resetTable();\n          }, table.filterTimeOut);\n        }\n      }\n    }\n  };\n\n  Table.prototype.orderBind = function() {\n    var table;\n    table = this;\n    this.head.find('label.order').on('click.table', function() {\n      var oldOrder, orderBy, orderByIndex;\n      if (table.request) {\n        return false;\n      }\n      oldOrder = table.order;\n      orderBy = $(this).data('order');\n      orderByIndex = table.order.indexOf(orderBy);\n      table.head.find('label.order').removeClass('asc desc');\n      if (orderByIndex !== -1) {\n        if (orderByIndex) {\n          table.order = orderBy;\n          $(this).addClass('asc');\n        } else {\n          table.order = \"-\" + orderBy;\n          $(this).addClass('desc');\n        }\n      } else {\n        table.order = orderBy;\n        $(this).addClass('asc');\n      }\n      if (table.onOrder != null) {\n        table.onOrder(table.order);\n      } else {\n        if (oldOrder !== table.order) {\n          table.resetTable();\n        }\n      }\n      return false;\n    });\n  };\n\n  Table.prototype.tableBinds = function() {\n    var action, actionsDiv, defaultAction, j, len, ref, table;\n    table = this;\n    this.bindActions();\n    if (this.contextMenu) {\n      this.body.on('contextmenu.table', 'tr:not(.row-content)', function(e) {\n        table.menu(this, e);\n        return false;\n      });\n    }\n    if (this.selectable) {\n      this.body.on('mousedown.table', 'tr:not(.row-content)', function() {\n        if (table.request != null) {\n          return false;\n        }\n        if (table.rowSelect($(this).index() - $(this).prevAll('.row-content').length, this)) {\n          $(table.body).find('tr').removeClass('active');\n          $(this).addClass('active');\n        }\n      });\n    }\n    if (this.defaultAction && this.actions) {\n      ref = this.actions;\n      for (j = 0, len = ref.length; j < len; j++) {\n        action = ref[j];\n        if (action.id === this.defaultAction) {\n          defaultAction = action;\n          actionsDiv = this.actionsDiv;\n          this.body.on('dblclick.table', 'tr:not(.row-content)', function() {\n            if (table.request != null) {\n              return false;\n            }\n            document.getSelection().removeAllRanges();\n            if (actionsDiv.find(\"[data-action=\" + defaultAction.id + \"]\").length) {\n              actionsDiv.find(\"[data-action=\" + defaultAction.id + \"]\").trigger('click.table');\n            } else {\n              defaultAction.callback(table.rows[table.current], table);\n            }\n          });\n        }\n      }\n    }\n    this.body.on('scroll.table', function() {\n      var bodyHeight, bodyPos, fromBottom, lastHeight, lastPos, positionLimit;\n      if (table.body.find('tr.row-content').find('form').length) {\n        positionLimit = {\n          top: table.body.position().top,\n          bottom: table.body.position().top + table.body.height()\n        };\n        table.body.find('tr.row-content').find('form').find('.error').each(function() {\n          var toolTip, top;\n          top = $(this).position().top;\n          toolTip = $(this).find('.error-text');\n          if (top > positionLimit.top && top + toolTip.height() < positionLimit.bottom) {\n            toolTip.css('top', top);\n          } else {\n            toolTip.css('top', -9999);\n          }\n        });\n      }\n      bodyPos = table.body.position();\n      bodyHeight = table.body.height();\n      if (table.body.find('tbody tr').length) {\n        lastPos = table.body.find('tbody tr:last').position();\n        lastHeight = table.body.find('tbody tr:last').outerHeight();\n        fromBottom = (lastPos.top + lastHeight) - (bodyHeight + bodyPos.top);\n        if (fromBottom < table.fromBottomNextPage && fromBottom >= 0) {\n          table.nextPage();\n        }\n      }\n    });\n    $('body').off('keydown.table');\n    $('body').on('keydown.table', function(e) {\n      var E, H, RM, ST, body, newRow, row, tables;\n      if (!(e.keyCode === 38 || e.keyCode === 40 || e.keyCode === 13) || $(e.target).is('input, textarea, select')) {\n        return;\n      }\n      tables = $('.table-data.arrow-navigation:visible');\n      if (tables.find('.body tr.active').length) {\n        tables = tables.find('.body tr.active').closest('.table-data');\n        if (tables.filter('.active').length) {\n          tables = tables.filter('.active');\n        } else {\n          tables = tables.first();\n        }\n        body = $('.body', tables);\n        row = $('tr.active', tables);\n        if (row.length) {\n          if (e.keyCode === 13) {\n            row.trigger('dblclick.table');\n          } else {\n            if (e.keyCode === 38) {\n              newRow = row.prevAll().not('.row-content');\n            } else {\n              newRow = row.nextAll().not('.row-content');\n            }\n            newRow = newRow.first();\n            if (newRow.length) {\n              newRow.trigger('mousedown.table');\n              H = body.height();\n              E = newRow.height();\n              ST = body.scrollTop();\n              RM = newRow.offset().top - body.offset().top;\n              if (RM < 0) {\n                body.scrollTop(ST + RM);\n              } else if (RM + E > H) {\n                body.scrollTop((RM - H) + ST + E);\n              }\n            }\n          }\n        }\n      }\n    });\n  };\n\n  Table.prototype.menu = function(element, event) {\n    var action, j, left, len, menuAction, ref, ref1, table, top;\n    if (this.contextMenu) {\n      this.menuDiv.html(this.templates.menu({\n        actions: this.actions\n      }));\n      table = this;\n      ref = this.actions;\n      for (j = 0, len = ref.length; j < len; j++) {\n        action = ref[j];\n        this.menuDiv.attr({\n          id: 'contextmenu'\n        }).find(\"[data-action=\" + action.id + \"]\").data('action-data', action).on('mousedown.table', function() {\n          action = $(this).data('action-data');\n          if (action.callback != null) {\n            action.callback(table.rows[table.current], table);\n          }\n        });\n        menuAction = this.menuDiv.find(\"[data-action=\" + action.id + \"]\");\n        if (!((action.global != null) || action.global) && ($(element).data('action-disabled') != null) && (ref1 = action.id, indexOf.call($(element).data('action-disabled'), ref1) >= 0)) {\n          menuAction.addClass('disabled');\n        } else {\n          menuAction.removeClass('disabled');\n        }\n      }\n      $(document.body).append(this.menuDiv);\n      top = event.clientY;\n      left = event.clientX;\n      if (top + this.menuDiv.height() + 5 > $(document).height()) {\n        top -= this.menuDiv.height();\n      }\n      if (left + this.menuDiv.width() + 5 > $(document).width()) {\n        left -= this.menuDiv.width();\n      }\n      this.menuDiv.css({\n        top: top,\n        left: left\n      });\n      $(document).on('mousedown.table', function() {\n        $('#contextmenu').remove();\n        return $(document).unbind('mousedown.table');\n      });\n    }\n  };\n\n  Table.prototype.rowSelect = function(rowIndex, element) {\n    this.current = rowIndex;\n    this.updateActions(element);\n    if (this.onRowSelect != null) {\n      return this.onRowSelect(this.rows[rowIndex], element);\n    }\n    return true;\n  };\n\n  Table.prototype.addRowContainer = function(content, pinned) {\n    var container, rowContainer, rows;\n    if (pinned == null) {\n      pinned = false;\n    }\n    rowContainer = $('<tr />');\n    container = $(\"<td colspan=\\\"\" + this.cols + \"\\\" />\");\n    container.html(content);\n    rowContainer.addClass('row-content').html(container);\n    if (pinned) {\n      if (this.body.find('tr.active').next().hasClass('row-content')) {\n        return;\n      }\n      rowContainer.addClass('pinned');\n      rowContainer.insertAfter(this.body.find('tr.active'));\n      this.updateActions(this.body.find('tr.active'));\n    } else {\n      if (!this.body.find('tbody').length) {\n        rows = [];\n        rows.columns = this.cols;\n        rows.head = true;\n        this.body.html(this.templates.rows({\n          rows: rows\n        }));\n      }\n      this.body.find('tbody').prepend(rowContainer);\n    }\n    this.scrollRowContainer(rowContainer);\n    return rowContainer;\n  };\n\n  Table.prototype.scrollRowContainer = function(rowContainer) {\n    var topPosition;\n    this.rowResize();\n    topPosition = this.body.position();\n    if (rowContainer.hasClass('pinned')) {\n      topPosition.top += this.body.find('tr.active').height();\n    }\n    this.body.scrollTop(this.body.scrollTop() + (rowContainer.position().top - topPosition.top));\n  };\n\n  Table.prototype.closeRowContainer = function(index, force) {\n    var cb, continueCallback, rowContainer, rowContainers, table;\n    if (force == null) {\n      force = false;\n    }\n    table = this;\n    rowContainers = this.body.find('tbody tr');\n    if (!this.editedNotification) {\n      force = true;\n    }\n    if (rowContainers.length > index) {\n      rowContainer = rowContainers.eq(index);\n      continueCallback = function() {\n        var rowActive;\n        rowActive = rowContainer.prev('.active');\n        rowContainer.remove();\n        if (rowActive.length) {\n          table.updateActions(rowActive);\n        }\n        if (!table.body.find('tbody tr').length) {\n          table.body.html('');\n        }\n        table.rowResize();\n      };\n      if (this.onCloseRowContainer != null) {\n        cb = this.onCloseRowContainer(index, force, this, rowContainer, continueCallback);\n        if ((cb != null) && !cb) {\n          return false;\n        }\n      } else if (!force && rowContainer.is('.edited') && !confirm('You are sure?\\n Added/edited data not was saved')) {\n        return false;\n      }\n      continueCallback();\n    }\n    return true;\n  };\n\n  Table.prototype.lockAction = function(id, lock, disable) {\n    var action, actionButton, j, len, ref;\n    if (lock == null) {\n      lock = null;\n    }\n    if (disable == null) {\n      disable = false;\n    }\n    ref = this.actions;\n    for (j = 0, len = ref.length; j < len; j++) {\n      action = ref[j];\n      if (action.id === id) {\n        if (action.element != null) {\n          actionButton = $(action.element);\n        } else {\n          actionButton = this.actionsDiv.find(\"[data-action=\" + action.id + \"]\");\n        }\n        if (actionButton.hasClass('locked') && ((lock == null) || (lock != null) && !lock)) {\n          actionButton.removeClass('locked');\n        } else {\n          actionButton.addClass('locked');\n        }\n        if (disable) {\n          actionButton.addClass('disabled');\n        } else {\n          actionButton.removeClass('disabled');\n        }\n        return;\n      }\n    }\n  };\n\n  Table.prototype.updateActions = function(rowElement) {\n    var action, actionButton, actionContentDisabled, actionDisabled, j, len, menuAction, ref, ref1, ref2;\n    if (rowElement == null) {\n      rowElement = null;\n    }\n    if (rowElement != null) {\n      actionDisabled = $(rowElement).data('action-disabled') != null ? $(rowElement).data('action-disabled') : null;\n      actionContentDisabled = ($(rowElement).data('action-content-disabled') != null) && $(rowElement).next('.row-content').length ? $(rowElement).data('action-content-disabled') : null;\n    } else {\n      actionDisabled = actionContentDisabled = null;\n    }\n    ref = this.actions;\n    for (j = 0, len = ref.length; j < len; j++) {\n      action = ref[j];\n      if (action.element != null) {\n        actionButton = $(action.element);\n      } else {\n        actionButton = this.actionsDiv.find(\"[data-action=\" + action.id + \"]\");\n      }\n      menuAction = this.menuDiv.find(\"[data-action=\" + action.id + \"]\");\n      if ((this.request != null) || !((action.global != null) || action.global) && ((rowElement == null) || ((rowElement != null) && ((actionDisabled != null) && (ref1 = action.id, indexOf.call(actionDisabled, ref1) >= 0) || (actionContentDisabled != null) && (ref2 = action.id, indexOf.call(actionContentDisabled, ref2) >= 0))))) {\n        actionButton.addClass('disabled');\n        menuAction.addClass('disabled');\n      } else {\n        actionButton.removeClass('disabled');\n        menuAction.removeClass('disabled');\n      }\n    }\n  };\n\n  Table.prototype.renderActions = function() {\n    var action, j, len, makeActions, ref;\n    this.actionsDiv.addClass('table-actions');\n    makeActions = [];\n    ref = this.actions;\n    for (j = 0, len = ref.length; j < len; j++) {\n      action = ref[j];\n      if (action.element == null) {\n        makeActions.push(action);\n      }\n    }\n    this.actionsDiv.html(this.templates.actions({\n      actions: makeActions\n    }));\n    this.bindActions();\n    this.updateActions();\n    return this.actionsDiv;\n  };\n\n  Table.prototype.bindActions = function() {\n    var action, actionButton, j, len, ref, table;\n    table = this;\n    ref = this.actions;\n    for (j = 0, len = ref.length; j < len; j++) {\n      action = ref[j];\n      if (action.element != null) {\n        actionButton = $(action.element);\n      } else {\n        actionButton = this.actionsDiv.find(\"[data-action=\" + action.id + \"]\");\n      }\n      actionButton.data('action-data', action).off('click.table');\n      actionButton.data('action-data', action).on('click.table', function() {\n        if ($(this).hasClass('disabled') || $(this).hasClass('locked')) {\n          return;\n        }\n        action = $(this).data('action-data');\n        if (action.callback != null) {\n          action.callback(table.rows[table.current], table);\n        }\n      });\n    }\n  };\n\n  Table.prototype.renderRows = function(data, append) {\n    var appendRows, j, len, row;\n    if (append == null) {\n      append = false;\n    }\n    if (!append) {\n      this.rows = [];\n      this.body.scrollTop(0);\n      this.updateActions();\n    }\n    appendRows = [];\n    for (j = 0, len = data.length; j < len; j++) {\n      row = data[j];\n      if (Array.isArray(row)) {\n        appendRows.push({\n          attrs: null,\n          cells: row\n        });\n      } else {\n        appendRows.push(row);\n      }\n    }\n    Array.prototype.push.apply(this.rows, appendRows);\n    appendRows.columns = this.cols;\n    if (this.rows.length) {\n      if (appendRows.length) {\n        if (!append) {\n          appendRows.head = true;\n          this.body.html(this.templates.rows({\n            rows: appendRows\n          }));\n        } else {\n          this.body.find('tbody').append(this.templates.rows({\n            rows: appendRows\n          }));\n        }\n      }\n    } else {\n      this.body.html('');\n    }\n    if (this.table.is(':visible')) {\n      this.rowResize();\n    }\n    if (!append && this.selectable && this.selectFirst && this.rows.length) {\n      this.body.find('tbody tr:first').trigger('mousedown.table');\n    }\n    return this.body;\n  };\n\n  Table.prototype.columnRule = function(index, style) {\n    var attr, cssRule, exist, j, k, len, len1, rule, rulePos, selector, sheet, sheets, value;\n    if (style == null) {\n      style = null;\n    }\n    rule = \"#\" + (this.table.attr('id')) + \" table > thead > tr > .col-\" + index;\n    if (!$('#table_columns').length) {\n      $('head').append($('<style />').attr({\n        id: 'table_columns',\n        type: 'text/css'\n      }));\n    }\n    if (document.styleSheets) {\n      sheets = document.styleSheets;\n      for (j = 0, len = sheets.length; j < len; j++) {\n        sheet = sheets[j];\n        if ($(sheet.ownerNode).attr('id') === 'table_columns') {\n          break;\n        }\n      }\n    }\n    if (sheet.cssRules) {\n      cssRule = sheet.cssRules;\n    } else {\n      cssRule = sheet.rules;\n    }\n    exist = false;\n    for (rulePos = k = 0, len1 = cssRule.length; k < len1; rulePos = ++k) {\n      selector = cssRule[rulePos];\n      if ((selector.selectorText != null) && selector.selectorText.toLowerCase() === rule) {\n        exist = true;\n        break;\n      }\n    }\n    if (style == null) {\n      if (exist) {\n        if (sheet.cssRules) {\n          sheet.deleteRule(rulePos);\n        } else {\n          sheet.removeRule(rulePos);\n        }\n      }\n      return;\n    }\n    if (!exist) {\n      rulePos = cssRule.length;\n      exist = true;\n      if (sheet.addRule) {\n        sheet.addRule(rule, null, rulePos);\n      } else {\n        sheet.insertRule(rule + \" {}\", rulePos);\n      }\n    }\n    if (exist) {\n      for (attr in style) {\n        value = style[attr];\n        cssRule[rulePos].style[attr] = value;\n      }\n    }\n  };\n\n  Table.prototype.columnsResize = function() {\n    var check, colIndex, column, columnRule, columns, fixedCols, i, j, k, l, len, len1, len2, len3, len4, m, minWidth, n, o, p, ref, ref1, ref2, ref3, row, rows, table, tableWidth, width;\n    table = this;\n    fixedCols = 0;\n    columns = [];\n    rows = [];\n    this.cols = 0;\n    if (this.columns.length) {\n      if (!Array.isArray(this.columns[0])) {\n        rows = [this.columns];\n      } else {\n        rows = this.columns;\n      }\n      ref = rows[0];\n      for (j = 0, len = ref.length; j < len; j++) {\n        column = ref[j];\n        this.cols += (column.attrs != null) && (column.attrs.colspan != null) ? column.attrs.colspan : 1;\n      }\n    }\n    rows.columns = this.cols;\n    for (i = k = 0, ref1 = this.cols - 1; 0 <= ref1 ? k <= ref1 : k >= ref1; i = 0 <= ref1 ? ++k : --k) {\n      table.columnRule(i);\n    }\n    this.table.css({\n      width: ''\n    });\n    this.head.css({\n      display: 'inline-block',\n      width: 'auto'\n    }).find('table').css({\n      width: 'auto'\n    });\n    this.body.hide();\n    this.foot.hide();\n    tableWidth = this.table.width();\n    this.head.css({\n      display: '',\n      width: ''\n    }).find('table').css({\n      width: ''\n    });\n    this.body.show();\n    this.foot.show();\n    this.table.width(tableWidth);\n    ref2 = ['fixed', 'percent', 'auto'];\n    for (l = 0, len1 = ref2.length; l < len1; l++) {\n      check = ref2[l];\n      for (m = 0, len2 = rows.length; m < len2; m++) {\n        row = rows[m];\n        i = -1;\n        for (n = 0, len3 = row.length; n < len3; n++) {\n          column = row[n];\n          i++;\n          if (columns.length <= i) {\n            for (o = 0, ref3 = columns.length - i; 0 <= ref3 ? o <= ref3 : o >= ref3; 0 <= ref3 ? o++ : o--) {\n              columns.push({\n                rowspan: 0\n              });\n            }\n          }\n          if (columns[i].rowspan) {\n            columns[i].rowspan--;\n            i++;\n          }\n          if ((column.attrs != null) && (column.attrs.rowspan != null) && column.attrs.rowspan !== 1) {\n            columns[i].rowspan += column.attrs.rowspan - 1;\n          }\n          if ((column.attrs != null) && (column.attrs.colspan != null) && column.attrs.colspan !== 1) {\n            i += column.attrs.colspan - 1;\n            continue;\n          }\n          if (columns[i].width == null) {\n            width = 'auto';\n            minWidth = 'initial';\n            if (column.attrs != null) {\n              if (column.attrs.width != null) {\n                width = column.attrs.width;\n              }\n              if (column.attrs.minWidth != null) {\n                minWidth = column.attrs.minWidth;\n              }\n            }\n          } else {\n            width = columns[i].width;\n            minWidth = columns[i].minWidth;\n          }\n          if (check === 'fixed' && width.toString().match(/^\\d+(px)?$/)) {\n            width = parseInt(width);\n            tableWidth -= width;\n            fixedCols++;\n          } else if (check === 'percent' && width.toString().match(/^\\d+%$/)) {\n            width = parseInt(tableWidth * (parseFloat(width) / 100));\n            fixedCols++;\n          } else if (check === 'auto' && width === 'auto') {\n            width = parseInt(tableWidth * (1 / (this.cols - fixedCols)));\n          }\n          columns[i].width = width;\n          columns[i].minWidth = minWidth;\n        }\n      }\n    }\n    this.table.css({\n      paddingRight: tableWidth - parseInt(tableWidth * (1 / (this.cols - fixedCols))) * (this.cols - fixedCols)\n    });\n    for (colIndex = p = 0, len4 = columns.length; p < len4; colIndex = ++p) {\n      columnRule = columns[colIndex];\n      table.columnRule(colIndex, {\n        width: columnRule.width + 'px',\n        minWidth: columnRule.minWidth + (!isNaN(parseInt(columnRule.minWidth)) ? 'px' : '')\n      });\n    }\n    if (this.head.width() < this.head.find('table').width()) {\n      this.table.width(this.head.find('table').width());\n    }\n    if (!this.body.getNiceScroll().length) {\n      this.rowResize();\n    }\n  };\n\n  Table.prototype.rowResize = function() {\n    var fullHeight;\n    if (this.height != null) {\n      this.table.css('maxHeight', this.height);\n      fullHeight = this.table.height() - this.head.height() - this.foot.height();\n    } else if (this.body.height()) {\n      this.body.css('display', 'none');\n      fullHeight = parseInt(this.table.closest(this.heightOfParent).height()) - (parseFloat(this.table.outerHeight()) + (this.body.is(':empty') ? 1 : 0) - (this.margin != null ? this.margin : 0));\n    }\n    this.body.css({\n      maxHeight: fullHeight ? fullHeight : '',\n      display: 'block'\n    });\n    if (this.body.get(0).scrollHeight > fullHeight) {\n      if (!this.body.getNiceScroll().length) {\n        this.body.niceScroll({\n          horizrailenabled: false,\n          cursoropacitymin: 1,\n          railalign: this.scrollAlign,\n          enablekeyboard: !this.arrowNavigation,\n          cursorwidth: 3,\n          railpadding: {\n            top: 1,\n            right: 1,\n            left: 1,\n            bottom: 1\n          }\n        });\n      } else {\n        this.body.getNiceScroll().resize();\n      }\n    } else {\n      this.body.getNiceScroll().remove();\n    }\n  };\n\n  Table.prototype.renderColumns = function(columns) {\n    var column, j, len, order, ref, rows;\n    this.columns = columns;\n    order = null;\n    rows = [];\n    this.cols = 0;\n    if (this.columns.length) {\n      if (!Array.isArray(this.columns[0])) {\n        rows = [this.columns];\n      } else {\n        rows = this.columns;\n      }\n      ref = rows[0];\n      for (j = 0, len = ref.length; j < len; j++) {\n        column = ref[j];\n        this.cols += (column.attrs != null) && (column.attrs.colspan != null) ? column.attrs.colspan : 1;\n      }\n    }\n    rows.columns = this.cols;\n    if (this.showDefaultOrder && this.order) {\n      order = {\n        field: this.order.substr(!this.order.indexOf('-')),\n        sort: !this.order.indexOf('-') ? 'desc' : 'asc'\n      };\n    }\n    this.head.html(this.templates.columns({\n      rows: rows,\n      order: order\n    }));\n    this.columnsBinds();\n    return this.head;\n  };\n\n  Table.prototype.renderFooter = function(footerRows) {\n    var j, len, ref, row, rows;\n    this.footer = footerRows;\n    rows = [];\n    if (this.footer.length) {\n      ref = this.footer;\n      for (j = 0, len = ref.length; j < len; j++) {\n        row = ref[j];\n        if (Array.isArray(row)) {\n          rows.push({\n            attrs: null,\n            cells: row\n          });\n        } else {\n          rows.push(row);\n        }\n      }\n    }\n    rows.columns = this.cols;\n    this.foot.html(this.templates.foot({\n      rows: rows\n    }));\n    return this.foot;\n  };\n\n  Table.prototype.uid = function() {\n    return Math.floor((1 + Math.random()) * 0x100000000).toString(16).substring(1);\n  };\n\n  Table.prototype.render = function() {\n    var attrs, table;\n    attrs = JSON.parse(JSON.stringify(this.attrs));\n    if (attrs.id == null) {\n      attrs.id = \"uid_\" + (this.uid());\n    }\n    while ($(\"#uid_\" + this.attrs.id).length) {\n      attrs.id = \"uid_\" + (this.uid());\n    }\n    if (attrs[\"class\"] != null) {\n      this.table.addClass(attrs[\"class\"]);\n      delete attrs[\"class\"];\n    }\n    this.table.attr(attrs).addClass(\"table-data scroll-\" + this.scrollAlign + (this.selectable ? ' selectable' : '') + (this.arrowNavigation ? ' arrow-navigation' : ''));\n    this.renderColumns(this.columns);\n    this.renderRows(this.rows);\n    this.renderFooter(this.footer);\n    this.table.append(this.head);\n    this.table.append(this.body);\n    this.table.append(this.foot);\n    table = this;\n    $(window).on('resize.table', function() {\n      if (table.table.is(':visible')) {\n        table.columnsResize();\n        table.rowResize();\n      }\n    });\n    return this.table;\n  };\n\n  return Table;\n\n})();\n","var TableForm;\n\nTableForm = (function() {\n  TableForm.VERSION = '2.2.6';\n\n  TableForm[\"default\"] = {\n    contentType: false,\n    actionNotification: true,\n    datePickerOptions: {\n      dateFormat: 'dd/mm/yy'\n    },\n    timePickerOptions: {\n      parse: 'loose',\n      timeFormat: 'HH:mm:ss'\n    },\n    loadLength: 50,\n    after: null,\n    onSubmit: null,\n    onComplete: null,\n    onCancel: null,\n    onActionNotification: null,\n    onDelete: null,\n    sendCSRFTokenHeader: true\n  };\n\n  function TableForm(data) {\n    var i, prop, ref, value;\n    this.edit = false;\n    this.form = $('<div class=\"form\" />');\n    this.table = null;\n    this.pinned = false;\n    this.formData = null;\n    this.getData = null;\n    this.request = null;\n    this.fields = [];\n    this.actions = [];\n    this.template = swig.compile('<form{% for attr, value in form.attrs %} {{attr}}=\"{{value}}\"{% endfor %}> {% if form.name %}<p class=\"name {{form.name.attrs.class}}\">{{form.name.label}}</p>{% endif %} {% for field in fields %} {% if field.type == \"hidden\" %}<input type=\"hidden\" name=\"{{field.name}}\" value=\"{{field.value}}\" />{% else %} <div class=\"field{% if field.fields.length > 1 %} multiple{% endif %}{% if field.attrs.class %} {{field.attrs.class}}{% endif %}\">{% if field.group %}<p class=\"group{% if field.group.class %} {{field.group.class}}{% endif %}\">{% if field.group.label %}{{field.group.label}}{% else %}{{field.group}}{% endif %}</p>{% endif %}{% for input in field.fields %}{% if input.label and (not input.label.position or input.label.position and input.label.position == \"before\") %} <label for=\"{{_prefix}}input_{{input.name}}\"{% if input.label.class or input.required %} class=\"{% if input.required %}required{% endif %}{% if input.label.class %} {{input.label.class}}{% endif %}\"{% endif %}>{% if input.label.text %}{{input.label.text}}{% else %}{{input.label}}{% endif %}</label>{% endif %}{% if input.type == \"textarea\" %} <textarea id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\" {% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% if input.length %} data-length=\"{{input.length}}\"{% endif %}>{{input.value}}</textarea>{% elif input.type == \"date\" %} <div class=\"date-picker\" id=\"{{_prefix}}input_{{input.name}}\"><input type=\"text\" name=\"{{input.name}}\" value=\"{{input.value}}\" {% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %} /></div>{% elif input.type == \"time\" %} <div class=\"time-picker\" id=\"{{_prefix}}input_{{input.name}}\"><input type=\"text\" name=\"{{input.name}}\" value=\"{{input.value}}\"/></div>{% elif input.type == \"select\" %} <select id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\" {% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %}>{% for value, label in input.options %}<option value=\"{{value}}\"{% if value == input.value %} selected=\"selected\"{% endif %}>{{label}}</option>{% endfor %}</select>{% elif input.type == \"related\" %} <input type=\"hidden\" id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\" data-select=\"related\" value=\"{{input.value}}\" data-text=\"{{input.text}}\" data-url=\"{{input.url}}\" data-placeholder=\"{{input.placeholder}}\" data-order=\"{{input.order}}\" data-results=\\'{{input.results}}\\'{% if input.related %} data-related=\\'{{input.related|json}}\\'{% endif %}{% if input.children %} data-children=\\'{{input.children|json}}\\'{% endif %}{% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %}/>{% elif input.type == \"checkbox\" %} <input type=\"checkbox\" id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\"{% if input.value %} checked=\"checked\" {% endif %}{% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %} />{% elif input.type == \"text\" or input.type == \"digits\" %} <input type=\"text\" id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\" value=\"{{input.value}}\" data-type=\"{{input.type}}\"{% if input.length %} data-length=\"{{input.length}}\"{% endif %}{% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %} />{% else %} <input type=\"{{input.type}}\" id=\"{{_prefix}}input_{{input.name}}\" name=\"{{input.name}}\" value=\"{{input.value}}\"{% for attr, value in input.attrs %} {{attr}}=\"{{value}}\"{% endfor %}{% if input.length %} data-length=\"{{input.length}}\"{% endif %} />{% endif %}{% if input.label and (input.label.position and input.label.position == \"after\") %} <label for=\"{{_prefix}}input_{{input.name}}\"{% if input.label.class or input.required %} class=\"{% if input.required %}required{% endif %}{% if input.label.class %} {{input.label.class}}{% endif %}\"{% endif %}>{% if input.label.text %}{{input.label.text}}{% else %}{{input.label}}{% endif %}</label>{% endif %}{% endfor %} <span class=\"error-text\"></span></div>{% endif %}{% endfor %}{% if actions.length %}{% for action in actions %} <button type=\"button\" class=\"btn btn-{{action.id}}{% if action.class %} {{action.class}}{% endif %}\"{% for attr, value in action.attrs %} {{attr}}=\"{{value}}\"{% endfor %}>{{action.label}}</button>{% endfor %}{% else %} <button type=\"button\" class=\"btn btn-success btn-ok\">Ok</button> <button type=\"button\" class=\"btn btn-danger btn-cancel\">Cancel</button>{% endif %}</form>');\n    ref = this.constructor[\"default\"];\n    for (prop in ref) {\n      value = ref[prop];\n      this[prop] = value;\n    }\n    for (i in data) {\n      if (i in this) {\n        this[i] = data[i];\n      }\n    }\n    if ((this.formData.attrs != null) && this.formData.attrs.id) {\n      this.prefix = this.formData.attrs.id;\n    } else {\n      this.prefix = \"uid_\" + (this.uid());\n      while ($(\"[id^='\" + this.prefix + \"']\").length) {\n        this.prefix = \"uid_\" + (this.uid());\n      }\n    }\n    return;\n  }\n\n  TableForm.prototype.getCsrfToken = function() {\n    var c, ca, i, nameEQ;\n    nameEQ = \"csrftoken=\";\n    ca = document.cookie.split(\";\");\n    i = 0;\n    while (i < ca.length) {\n      c = ca[i];\n      while (c.charAt(0) === \" \") {\n        c = c.substring(1, c.length);\n      }\n      if (c.indexOf(nameEQ) === 0) {\n        return c.substring(nameEQ.length, c.length).replace(/\"/g, '');\n      }\n      i++;\n    }\n    return ca;\n  };\n\n  TableForm.prototype.uid = function() {\n    return Math.floor((1 + Math.random()) * 0x100000000).toString(16).substring(1);\n  };\n\n  TableForm.prototype.bindForm = function() {\n    var action, j, len, ref, tableForm;\n    tableForm = this;\n    this.form.find(\":input\").change(function() {\n      tableForm.form.closest('tr').addClass('edited');\n    });\n    this.form.on('focus', 'input, textarea', function() {\n      try {\n        this.setSelectionRange(0, this.value.length);\n      } catch (undefined) {}\n    });\n    this.form.on('keypress', 'input, textarea', function(e) {\n      var charCode, input;\n      input = $(e.target);\n      if (input.data('length') != null) {\n        if (input.val().length >= parseInt(input.data('length'))) {\n          return false;\n        }\n      }\n      if (input.data('type') != null) {\n        switch (input.data('type')) {\n          case 'digits':\n            charCode = e.charCode != null ? e.charCode : e.keyCode;\n            if (charCode && (charCode > 57 || charCode < 48)) {\n              return false;\n            }\n        }\n      }\n    });\n    this.form.on('keyup', 'input', function(e) {\n      var next;\n      if (e.keyCode === 13) {\n        next = $(e.target).nextAll('input, textarea, select').not('.skip-focus').first();\n        if (!next.length) {\n          next = $(e.target).closest('.field').nextAll('.field').not('.skip-focus').first().find('input, textarea, select');\n        }\n        if (!next.length) {\n          next = tableForm.form.find('.btn-ok');\n        }\n        return next.first().focus();\n      }\n    });\n    if ($.fn.datepicker != null) {\n      this.form.find('.date-picker input').datepicker(this.datePickerOptions);\n      this.form.find('.date-picker').click(function() {\n        $(this).find('input').datepicker('show');\n      });\n    }\n    if ($.fn.timepicker != null) {\n      this.form.find('.time-picker input').timepicker(this.timePickerOptions);\n      this.form.find('.time-picker').click(function() {\n        $(this).find('input').timepicker('show');\n      });\n    }\n    this.form.find('[data-select=related]').each(function() {\n      return $(this).select2($.extend(true, ($(this).data('options') ? $(this).data('options') : {}), {\n        initSelection: function(element, callback) {\n          var data, related;\n          related = element.data();\n          data = {\n            id: element.val(),\n            text: related.text\n          };\n          callback(data);\n        },\n        query: function(queryObj) {\n          var data, postData, related;\n          related = queryObj.element.data();\n          data = {\n            more: false,\n            results: []\n          };\n          if (related.related != null) {\n            if (typeof related.related === 'object') {\n              postData = $.extend({}, related.related);\n            } else {\n              postData = {\n                related: related.related\n              };\n            }\n          } else {\n            postData = {};\n          }\n          postData.select = true;\n          postData.ordering = related.order;\n          postData.text = queryObj.term;\n          postData.start = (queryObj.page - 1) * tableForm.loadLength;\n          postData.length = tableForm.loadLength;\n          postData[related.results.term] = queryObj.term;\n          $.getJSON(related.url, postData, function(list) {\n            var element, j, len;\n            data.more = list.length === tableForm.loadLength;\n            for (j = 0, len = list.length; j < len; j++) {\n              element = list[j];\n              if (related.format != null) {\n                element = related.format(element);\n              }\n              data.results.push({\n                id: element[related.results.id].toString(),\n                text: element[related.results.text].toString()\n              });\n            }\n            queryObj.callback(data);\n          });\n        }\n      })).change(function(e) {\n        var child, disable, element, j, len, ref, ref1, related, relatedData, select, state, value;\n        element = $(e.target);\n        related = element.data();\n        if (related.children != null) {\n          ref = related.children;\n          for (j = 0, len = ref.length; j < len; j++) {\n            child = ref[j];\n            select = tableForm.form.find(\"[name=\" + child + \"]\");\n            relatedData = select.data();\n            if ((related.results.reference != null) && (relatedData['related'] != null) && typeof relatedData['related'] === 'object') {\n              relatedData['related'][related.results.reference] = element.val();\n            } else {\n              relatedData['related'] = element.val();\n            }\n            if (relatedData['relatedElements'] == null) {\n              relatedData['relatedElements'] = {};\n            }\n            relatedData['relatedElements'][element.attr('name')] = !!element.val();\n            select.data(relatedData);\n            if (e.added != null) {\n              select.select2('val', '').trigger('change');\n            }\n            disable = false;\n            ref1 = relatedData['relatedElements'];\n            for (state in ref1) {\n              value = ref1[state];\n              if (!value) {\n                disable = true;\n              }\n            }\n            select.prop('disabled', disable);\n          }\n        }\n      }).trigger('change');\n    });\n    this.form.find('.btn-cancel').click(function() {\n      var cb;\n      if (tableForm.onCancel != null) {\n        cb = tableForm.onCancel(tableForm);\n        if ((cb != null) && !cb) {\n          return;\n        }\n      }\n      if (tableForm.table != null) {\n        tableForm.table.closeRowContainer(tableForm.form.closest('tr.row-content').index());\n      }\n    });\n    this.form.find('.btn-ok').click(function() {\n      tableForm.sendData();\n    });\n    ref = this.actions;\n    for (j = 0, len = ref.length; j < len; j++) {\n      action = ref[j];\n      if (action.callback != null) {\n        (function(action) {\n          tableForm.form.find(\".btn-\" + action.id).click(function() {\n            action.callback(tableForm);\n          });\n        })(action);\n      }\n    }\n    this.form.on('submit', function() {\n      tableForm.sendData();\n      return false;\n    });\n  };\n\n  TableForm.prototype.render = function() {\n    var field, fieldData, form, input, j, k, len, len1, ref, ref1, time;\n    form = this;\n    if (this.edit && !this.form.html() && (this.request == null)) {\n      this.form.html($('<em />').text('Loading form data'));\n      this.formData.attrs.action = \"\" + this.formData.attrs.action + this.edit + \"/\";\n      this.loadData();\n    } else {\n      fieldData = [];\n      ref = this.fields;\n      for (j = 0, len = ref.length; j < len; j++) {\n        field = ref[j];\n        if ((field.type != null) && field.type === 'hidden') {\n          fieldData.push(field);\n        }\n        if (field instanceof Array) {\n          fieldData.push({\n            fields: field\n          });\n        } else if (field.fields == null) {\n          fieldData.push({\n            fields: [field]\n          });\n        } else {\n          fieldData.push(field);\n        }\n        ref1 = fieldData[fieldData.length - 1].fields;\n        for (k = 0, len1 = ref1.length; k < len1; k++) {\n          input = ref1[k];\n          if (input.type === 'related' && (input.children != null) && typeof input.children === 'string') {\n            input.children = [input.children];\n          }\n          if (input.value != null) {\n            if (input.type === 'date' && ($.fn.datepicker != null) && new Date(input.value).toString() !== 'Invalid Date') {\n              input.value = $.datepicker.formatDate(this.datePickerOptions.dateFormat, new Date(input.value));\n            }\n            if (input.type === 'time' && ($.fn.timepicker != null)) {\n              time = new Date(input.value);\n              if (time.toString() === 'Invalid Date' && input.value.match(/(\\d{2})(\\.\\d{3})?/g)) {\n                time = new Date(new Date().toISOString().substr(0, 11) + input.value.match(/(\\d{2})(\\.\\d{3})?/g).join(':') + 'Z');\n              }\n              if (time.toString() !== 'Invalid Date') {\n                input.value = $.datepicker.formatTime(this.timePickerOptions.timeFormat, {\n                  hour: time.getUTCHours(),\n                  minute: time.getUTCMinutes(),\n                  second: time.getUTCSeconds()\n                });\n              }\n            }\n          }\n        }\n      }\n      this.form.html($(this.template({\n        form: this.formData,\n        fields: fieldData,\n        actions: this.actions,\n        _prefix: this.prefix + \"_\"\n      })));\n      this.bindForm();\n      if ((this.table != null) && this.form.closest('.row-content').length) {\n        this.table.scrollRowContainer(this.form.closest('.row-content'));\n      }\n      setTimeout(function() {\n        if (form.form.find('.auto-focus').length) {\n          form.form.find('.auto-focus').focus();\n        } else {\n          form.form.find(':input:visible:not([disabled]):first').focus();\n        }\n        if (form.after != null) {\n          form.after(form);\n        }\n      }, 0);\n    }\n    return this.form;\n  };\n\n  TableForm.prototype.delData = function() {\n    var cb, continueCallback, form;\n    form = this;\n    continueCallback = function() {\n      var data;\n      data = [];\n      form.formData.attrs.action = \"\" + form.formData.attrs.action + form.edit + \"/\";\n      form.request = $.ajax({\n        url: form.formData.attrs.action,\n        data: JSON.stringify(data),\n        type: form.formData.attrs.method != null ? form.formData.attrs.method : 'DELETE',\n        contentType: form.formData.contentType != null ? form.formData.contentType : form.contentType,\n        dataType: 'json',\n        headers: form.sendCSRFTokenHeader ? {\n          'X-CSRFToken': form.getCsrfToken()\n        } : {},\n        complete: function(response) {\n          var cb;\n          form.request = null;\n          if (form.actionNotification) {\n            if (form.onActionNotification != null) {\n              cb = form.onActionNotification(response, form);\n              if ((cb != null) && !cb) {\n                return false;\n              }\n            }\n          }\n          if (response.status === 204) {\n            if (form.actionNotification && (form.onActionNotification == null)) {\n              alert('Deleted!');\n            }\n            form.table.resetTable();\n          } else {\n            console.error('unknown status');\n          }\n        }\n      });\n    };\n    if (this.edit && (this.request == null)) {\n      if (this.onDelete != null) {\n        cb = this.onDelete(form, continueCallback);\n        if ((cb != null) && !cb) {\n          return;\n        }\n      } else if (!confirm('You are sure?')) {\n        return;\n      }\n      continueCallback();\n    }\n  };\n\n  TableForm.prototype.loadData = function() {\n    var form;\n    form = this;\n    if (this.request == null) {\n      this.request = $.getJSON(this.formData.attrs.action, {}, function(fields) {\n        var fieldData, input, j, k, len, len1, ref, ref1;\n        if (form.getData != null) {\n          fields = form.getData(fields);\n        }\n        ref = form.fields;\n        for (j = 0, len = ref.length; j < len; j++) {\n          fieldData = ref[j];\n          if ((fieldData.fields != null) || fieldData instanceof Array) {\n            ref1 = (fieldData.fields != null ? fieldData.fields : fieldData);\n            for (k = 0, len1 = ref1.length; k < len1; k++) {\n              input = ref1[k];\n              if (fields[input.name] != null) {\n                form.fieldValue(input, fields);\n              }\n            }\n          } else if (fields[fieldData.name] != null) {\n            form.fieldValue(fieldData, fields);\n          }\n        }\n        form.request = null;\n        form.render();\n      });\n    }\n  };\n\n  TableForm.prototype.fieldValue = function(field, value) {\n    var time;\n    if ((field.name != null) && (value[field.name] != null)) {\n      if (field.type === 'related' && (value[field.text] != null)) {\n        field.text = value[field.text];\n      } else if (field.type === 'date' && new Date(value[field.name]).toString() !== 'Invalid Date') {\n        value[field.name] = new Date(value[field.name]);\n      } else if (field.type === 'time' && value[field.name].length >= 4) {\n        time = value[field.name].match(/(\\d{2})(\\.\\d{3})?/g);\n        value[field.name] = new Date(new Date().toISOString().substr(0, 11) + time.join(':') + 'Z');\n      }\n      field.value = value[field.name];\n    }\n  };\n\n  TableForm.prototype.sendData = function() {\n    var cb, contentType, data, date, field, fieldDate, j, len, ref, tableForm;\n    if (this.onSubmit != null) {\n      cb = this.onSubmit(this);\n      if ((cb != null) && !cb) {\n        return;\n      }\n    }\n    if (this.request == null) {\n      data = {};\n      tableForm = this;\n      ref = this.form.find('[name]');\n      for (j = 0, len = ref.length; j < len; j++) {\n        field = ref[j];\n        if ($(field).parent().is('.date-picker')) {\n          fieldDate = $(field).attr('name');\n          if ($(field).datepicker('getDate')) {\n            date = $(field).datepicker('getDate');\n            date.setMinutes(-date.getTimezoneOffset());\n            data[fieldDate] = date.toISOString().match(/^[^T]+/g)[0];\n          } else {\n            data[fieldDate] = '';\n          }\n        } else if ($(field).parent().is('.time-picker')) {\n          fieldDate = $(field).attr('name');\n          if ($(field).timepicker('getDate')) {\n            data[fieldDate] = $(field).val().match(/(\\d{2}:\\d{2}(:\\d{2})?)/g);\n          } else {\n            data[fieldDate] = '';\n          }\n        } else if ($(field).attr('type') === 'checkbox') {\n          if ($(field).is(':checked')) {\n            data[$(field).attr('name')] = $(field).val() ? $(field).val() : 'on';\n          }\n        } else {\n          data[$(field).attr('name')] = $(field).val();\n        }\n      }\n      contentType = this.formData.contentType != null ? this.formData.contentType : this.contentType;\n      this.request = $.ajax({\n        url: this.formData.attrs.action,\n        data: contentType === 'application/json' ? JSON.stringify(data) : data,\n        type: this.formData.attrs.method != null ? this.formData.attrs.method : (this.edit ? 'PUT' : 'POST'),\n        contentType: contentType,\n        dataType: 'json',\n        headers: this.sendCSRFTokenHeader ? {\n          'X-CSRFToken': this.getCsrfToken()\n        } : {},\n        complete: function(response) {\n          var cbReturn, fieldContainer, k, len1, ref1, ref2, text;\n          tableForm.request = null;\n          if (tableForm.onComplete != null) {\n            cbReturn = tableForm.onComplete(tableForm, response);\n            if ((cbReturn != null) && !cbReturn) {\n              return;\n            }\n          }\n          tableForm.form.find('.field').removeClass('error').find('.error-text').text('');\n          if ((ref1 = response.status) === 200 || ref1 === 201) {\n            if (tableForm.actionNotification) {\n              if (tableForm.onActionNotification != null) {\n                cb = tableForm.onActionNotification(response, tableForm);\n                if ((cb != null) && !cb) {\n                  return false;\n                }\n              } else {\n                alert(response.status === 200 ? 'Updated!' : 'Added!');\n              }\n            }\n            tableForm.table.closeRowContainer(tableForm.form.closest('tr').index(), true);\n            tableForm.table.resetTable();\n          } else if (response.status === 400) {\n            if ('__all__' in response.responseJSON) {\n              field = tableForm.form.find('[name]');\n              if (field.length) {\n                fieldContainer = $(field).parent();\n                fieldContainer.addClass('error');\n                fieldContainer.find('.error-text').text(response.responseJSON['__all__'].join(', '));\n              }\n            }\n            ref2 = tableForm.form.find('[name]');\n            for (k = 0, len1 = ref2.length; k < len1; k++) {\n              field = ref2[k];\n              field = $(field);\n              fieldContainer = field.parent();\n              if (fieldContainer.is('.date-picker')) {\n                fieldContainer = fieldContainer.parent();\n              }\n              if (field.attr('name') in response.responseJSON) {\n                fieldContainer.addClass('error');\n                text = fieldContainer.hasClass('multiple') && fieldContainer.find('.error-text').text() ? (fieldContainer.find('.error-text').text()) + \", \" : '';\n                fieldContainer.find('.error-text').text(text + response.responseJSON[field.attr('name')].join(', '));\n              }\n            }\n          } else {\n            console.error('unknown status');\n          }\n          if (tableForm.table != null) {\n            tableForm.table.body.trigger('scroll');\n          }\n        }\n      });\n    }\n  };\n\n  return TableForm;\n\n})();\n"],"sourceRoot":"/source/"}